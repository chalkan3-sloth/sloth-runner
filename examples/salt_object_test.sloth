-- Test Salt Object-Oriented Module
-- Simple test to verify the module loads correctly

print("🧪 Testing Salt Object-Oriented Module")
print("=" .. string.rep("=", 50))

-- Try to load the salt object-oriented module
local success, salt_client_constructor = pcall(require, "salt_object_oriented")

if success then
    print("✅ Salt object-oriented module loaded successfully")
    
    -- Try to create a client instance
    local client_success, salt_client = pcall(salt_client_constructor, {
        master_host = "localhost",
        timeout = 10
    })
    
    if client_success then
        print("✅ Salt client created successfully")
        print("   Type:", type(salt_client))
        
        -- Check if client has expected methods
        local methods_to_check = {
            "ping", "version", "test", "status",
            "key_list", "state_apply", "grains_items",
            "pillar_items", "file_list", "pkg_list"
        }
        
        print("📋 Checking available methods:")
        for _, method in ipairs(methods_to_check) do
            if salt_client[method] then
                print("   ✅ " .. method)
            else
                print("   ❌ " .. method .. " (not found)")
            end
        end
        
    else
        print("❌ Failed to create salt client:", salt_client)
    end
    
else
    print("❌ Failed to load salt object-oriented module:", salt_client_constructor)
end

print("\n🎯 Salt Object-Oriented Module Test Completed")