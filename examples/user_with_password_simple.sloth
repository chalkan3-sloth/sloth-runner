#!/usr/bin/env sloth-runner
-- Quick User Creation Example with Password

task("create-user-with-password", {
	action = function()
		print("Creating user 'appuser' with password...")

		local ok, msg = user.create("appuser", {
			password = "MySecurePassword123!",
			home = "/home/appuser",
			shell = "/bin/bash",
			groups = "docker,sudo",
			create_home = true,
			comment = "Application User",
		})

		if ok then
			print("âœ… User created successfully!")
		else
			print("âŒ Error: " .. msg)
		end
	end,
})

print("ğŸ¦¥ Quick example: user.create() with password parameter")
