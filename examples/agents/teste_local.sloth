-- EXEMPLO LOCAL: Para testar se a estrutura est√° funcionando
-- Remove delegate_to para execu√ß√£o local

workflow({
    name = "execucao_local_teste",
    description = "Teste local para validar estrutura",
    tasks = {
        {
            name = "teste_local",
            description = "Executa hostname localmente",
            run = function()
                log.info("üöÄ Executando comando local...")

                -- Executa comando simples
                local output, error, failed = exec.run("hostname")

                if not failed then
                    log.info("‚úÖ Sucesso! Hostname: " .. output)
                    return {changed = true, message = "Comando executado com sucesso"}
                else
                    log.error("‚ùå Falha: " .. (error or "erro desconhecido"))
                    return {failed = true, message = "Comando falhou"}
                end
            end,
            timeout = "30s"
        }
    }
})
