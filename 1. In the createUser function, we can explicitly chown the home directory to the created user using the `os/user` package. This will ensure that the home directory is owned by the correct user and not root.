// Create a new user with the specified options
func (u *User) createUser(options map[string]string) error {
    // ...
    
    // Explicitly chown the home directory to the created user
    if err := os.Chown(homeDir, uid, gid); err != nil {
        return fmt.Errorf("failed to chown home directory: %w", err)
    }
    
    // ...
}
